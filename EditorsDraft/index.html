<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' lang='en'>
  <head>
    <meta charset='utf-8'/>
    <title>Modelling Opportunity Data</title>

    <script type="text/javascript" class='remove'>
        var respecConfig = {
          // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
          specStatus:           "CG-DRAFT",

          // the specification's short name, as in http://www.w3.org/TR/short-name/
          shortName:            "modelling-opportunity-data",

          // if you wish the publication date to be other than today, set this
          // publishDate:  "2009-08-06",

          // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
          // and its maturity status
          // previousPublishDate:  "1977-03-15",
          // previousMaturity:  "WD",

          // if there a publicly available Editor's Draft, this is the link
          edDraftURI:           "https://www.openactive.io/modelling-opportunity-data/",
          //prevED:  "https://www.openactive.io/spec-template/",
          //previousURI:  "https://www.openactive.io/realtime-paged-data-exchange/0.2.3/",
          //testSuiteURI: "https://www.openactive.io/endpoint-validator/",
          copyrightStart: 2016,

          // if this is a LCWD, uncomment and set the end of its review period
          // lcEnd: "2009-08-05",

          // editors, add as many as you like
          // only "name" is required
          editors: [
              { name: "Leigh Dodds", url: "http://ldodds.com",
                company: "Open Data Institute", companyURL: "http://opendata.institute/",
                w3cid: "55359" },
          ],

          // authors, add as many as you like.
          // This is optional, uncomment if you have authors as well as editors.
          // only "name" is required. Same format as editors.

          authors: [
          ],

          otherLinks: [{
                key: "Repo",
                value: "We are on Github",
                href: "https://github.com/openactive/modelling-opportunity-data/",
                class: "repo"
            }, {
                key: "Issues",
                href: "https://github.com/openactive/modelling-opportunity-data/issues/"
            }, {
                key: "Version",
                value: "Editor's Draft"
            }
          ],

          logos: [
            {
              src: 'https://www.openactive.io/assets/openactive-logo-large.png',
              href: "https://www.openactive.io",
              alt: "openactive.io",
              width: 255, //170
              height: 33, //22
              id: 'logo'
            }
          ],

          // extend the bibliography entries
          //localBiblio: {},

          // name of the WG
          wg:           "Openactive Community Group",

          // URI of the public WG page
          wgURI:        "http://www.w3.org/community/openactive/",

          // name (with the @w3c.org) of the public mailing to which comments are due
          wgPublicList: "public-openactive",

          // URI of the patent status for this WG, for Rec-track documents
          // !!!! IMPORTANT !!!!
          // This is important for Rec-track documents, do not copy a patent URI from a random
          // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
          // Team Contact.
          wgPatentURI:  "",
          maxTocLevel: 4,
          preProcess: [ ] ,
          alternateFormats: [ {uri: "diff-previous.html", label: "diff to previous version"} ],
          isRecTrack:   true,
          isNoTrack:    true,
          issueBase:    "https://github.com/openactive/modelling-opportunity-data/issues/",
          format: "markdown"

        };
    </script>

    <script src='https://www.openactive.io/respec/builds/respec-w3c-common.js' class='remove'></script>

    <!-- <script src='/builds/respec-w3c-common.js' class='remove'></script>-->

    <!-- <script src='/node_modules/requirejs/require.js' data-main='/js/profile-w3c-common' async class='remove'></script> -->

    <style>
    table {border-collapse: collapse; border: 1px solid #bec9d9}
    td, th {padding: 3px 0.5em; border-left:1px solid black; border-right: 1px solid black; border-bottom:1px solid #E2EDFE;}
    tr th[colspan] {color: #005A9C; background-color: #FEEDE2; text-align: center}
    th {color: #005A9C; background-color: #E2EDFE; font-weight: normal;border-bottom:1px solid #BEC9D9;}
    tbody tr th {text-align: left;}
    td.nb { font-size: smaller;}
    .rec, .pr {color: #005A9C; background-color: #99EE99}
    .ext {background-color: #FFFFFF}
    .cr, .lcwd {color: #005A9C; background-color: #EEEE99}
    .wd {color: #005A9C; background-color: #EE9999}
    .ed, .fpwd  {color: #005A9C; background-color: #FF7777}
    code {white-space: pre;}
    </style>

  </head>
  <body >
    <style>
    html {
      background-image: none !important;
    }
    body {
      background: white top left fixed no-repeat !important;
      background-size: 25px auto !important;
      background-image: url('https://www.openactive.io/assets/openactive-label-editorsdraft.png') !important;
    }
    body.toc-sidebar #toc {
      background-attachment: fixed !important;
    }
    h1 {
      font-family: 'Open Sans',sans-serif !important;
      font-weight: 300 !important;
      color: #69b9ff !important;
      font-size: 220%;
    }
    #toc {
      padding-top: 0px !important;
    }
    .remove {
      background-colour: yellow;
    }
    </style>

    <section id='abstract'>
This specification provides a common reference model for opportunity data. It 
introduces a high-level data model describing the key concepts relevant to 
publishing data about opportunities for people to engage in physical activity. 
This includes descriptions of the activities, as well as the events and locations 
in which they take place.

As a conceptual data model it provides a common reference point for other 
specifications and outputs of the OpenActive community group. The model may 
also be useful in guiding the development of both new and existing 
booking systems and applications that consume opportunity data.

The conceptual model is mapped to the types and properties defined by 
[Schema.org](https://schema.org), which provides a useful existing framework 
upon which the OpenActive Community Group can build.
    </section>

    <section id='sotd'>
The purpose of this document is to represent an early draft to prompt feedback. 
It will evolve based on discussion within the community.

Contributions to this document are not only welcomed but are actively solicited and 
should be made via [GitHub Issues](https://github.com/openactive/modelling-opportunity-data/issues) 
and pull requests. The source code is available on [GitHub](https://github.com/openactive/modelling-opportunity-data).
    </section>

    <section class="informative">
# Introduction

The [W3C Openactive Community Group](http://www.w3.org/community/openactive/) was 
established with the objective of facilitating the sharing and use of 
physical activity data. This data is currently largely closed. Open publishing of this 
data has enormous potential to increase people's participation in physical activities.

## Categories of Physical Activity Data

There are several different categories of data that relevant to physical activities. 
This data covers different parts of [the data spectrum](http://theodi.org/data-spectrum) 
and is represented in the following diagram.

    <figure>
      ![](images/opportunity-data.png)
      <figcaption>Types of physical activity data</figcaption>
    </figure>

Some of this data is shared data. It can only be accessed by 
specific people or groups, under terms and conditions that define how and when 
it can be accessed and used. This shared data includes personal data about 
people taking part in activities and participation data that describes how people have 
been involved in previous events. 

Some of this data can be open data. This includes all of the data that 
describes:

* the location in which an activity or event takes place, along with any facilities available
* the details of the event itself, e.g. when it will take place, restrictions 
on attendance, costs, etc
* any related information, e.g. about the format of the event, its organiser, etc

Collectively this is known as "opportunity data".

## Scope of this Specification

This specification provides a common reference model for opportunity data. This 
reflects the goal of [the OpenActive project](https://www.openactive.io/) which 
is to encourage the open publishing and reuse of data that can help people 
become more active.
  </section>
  <section>
# Key Concepts

## Activities

An __Activity__ is an exercise, sport or other form of bodily movement 
that involves physical effort. Activities will usually have a well-understood, 
dictionary definition.

Examples of activities include walking, running and cycling. Sporting activities 
would include rubgy, football and tennis.

Activities can often be grouped together in different ways. For example Judo, 
Karate and Kendo are all more specific examples of the broader activity of 
"Martial Arts".

 * Martial Arts
  * Karate
  * Kendo
  * Judo
  
Activities might also be grouped together in looser collections. For example 
swimming, water aerobics, and water polo could all be classified as "Water Sports".
Water polo and football might also be grouped into a collection of "Team Sports"

 * Team Sports
  * Football
  * Water Polo
 * Water Sports
  * Swimming
  * Water Aerobics
  * Water Polo

Some systems may choose to use groupings and hierarchies of activities to 
help people find opportunities to be active. For example search engine might offer 
users results for all types of Martial Art, or for Karate specifically.

Activities will have a name, but might also be associated with a number of 
synomyms that provide alternative names for the activity. E.g. "Soccer" is a synonym 
for "Football". Again, this information can be useful to help discover opportunities.

Activities may also have additional information associated with them. 
For example a sporting activity might be overseen by an governing body or federation.

Activities might also be recognised by different bodies. In the UK certain 
activities are recognised as suitable for educational assessments, while others 
may be recognised by funding bodies like Sport England.

An __Activity List__ is the collection of Activities held in an specific system. The 
list may capture grouping and relationships between Activities, their synonyms, etc.
The list may be published an open data, for others to acccess, use and share.

**Note**: This specification doesn't place any requirements on how applications manage 
or use activities or activity lists. There is no requirement to adopt a single standardised list, 
or to agree on a standard grouping. The intention here is to just capture a useful model 
that can represent the variety of data currently in use.

## Events and Sessions

An __Event__ is an opportunity to take part in an Activity. Events take place at a 
specific location (see below) at an agreed date and time.

Some Events are one-off occurences. For example a fun run organised by a local group 
may run as a standalone event on a particular date. 

Other events take place on a regular __schedule__. For example a weekly gym class may 
run every Wednesday evening at 7pm. While a local walking club might meet on a Saturday 
morning once a month.

In order to simplify terminology we recommend the use of the term "Event" to 
broadly cover both situations, i.e. individual occurences and regularly occuring events. 
Where there is a need to disambiguate, we suggest using "*Session*" to refer to an 
individual event taking place at a specific date and time.

An Event might occur on a specified __schedule__ whereas a Session will always take 
place at a specific date and time.

A weekly gym class provides a useful example of this distinction. There is an 
Event for the regular class meeting, which takes place on a regular schedule, e.g. every Tuesday evening. 
There is a specific session of that Event taking place next Tuesday at 6pm.

It is useful to publish data about both Events with schedules and individual Sessions. 
People looking for opportunities to be active will be interested in both specific questions 
("what can I do tomorrow") and more general information about scheduled activities.

Regardless of whether an event takes place once or to a regular schedule, there 
will be a range of additional information that will help describe the event. This includes:

* the Place in which it is taking place
* the Activity or Activities that will take place 
* the Format of the event (see below)
* the Organiser of the event, which might be an individual or an organisation
* other descriptive attributes including any associated price, attendance numbers, 
suitability for a particular audience, method of booking, etc.

## Locations, Places and Equipment

Events take place in a __location__. But, depending on the activity, the location 
may be defined to different levels of precision. For example:

* A gym class may take place in a leisure centre at a specific address or other precisely defined location
* A cycling or walking event might start at a specific location, but will subsequently follow a route
* An exercise or running group might meet in an area of a local park, rather than at a specific address

Recognising this need for flexibility, this model proposes that a location can be specified as any of the 
following:

* a description, e.g. "by the lake in Victoria Park"
* an address
* a Place, such as a leisure centre, which might have an address and/or a latitude or longitude
* a facility within a larger Place, e.g. a football pitch which is contained in a leisure centre

The concept of Place therefore covers general outdoor areas such as parks, as well as venues (e.g. a Leisure centre) 
and facilities within a venue (e.g. a squash court, running track, etc). Facilities are contained in Places.

Places may have additional descriptive properties, for example:

* a name
* an address and/or geographic co-ordinates
* opening hours
* lists of __equipment__ that are available to people at that location

## Format

Events are often organised and run in a variety of different ways. This tailoring 
might include adjusting the activity to a particular type of participant, demographic. 
Or it could include running the event in a particular style, e.g. with a fixed routine 
or sequence of activities.

A __Format__ describes a method of carrying out a physical activity. Some formats of are very loosely defined. 
While others are more structured and may be run to a specific agenda or in a particular style.

Formats are often associated with branding or marketing that helps participants understand more about what they 
can expect from an event of that format. Formats might be offered or overseen by specific organisations

Examples of formats include:

* Les Mills BodyPump
* Learn to Row, from British Rowing
* Back to Netball, from England Netball

Formats provide another means of tagging or describing Events to help describe them to 
participants. When participants are looking for opportunities they may be interested in 
discovering Events based on either the general activity (e.g. Running) or a specific 
programme (Back to Netball).
  </section>

  <section>
# Mapping to Schema.org

Schema.org provides an existing well-used and documented data model for publishing 
data to the web. It can be used in a variety of use cases including marking up 
web pages and publishing data in more structured formats like JSON-LD.

The following sections outline how the concepts important to publishing 
opportunity data can be described using Schema.org classes and properties.

Where Schema.org does not provide necessary types and/or properties to describe 
all aspects of opportunity data, we will define new terms using their existing 
extension mechanism.

These extensions will be defined in this document and other supporting 
specifications.

## Events and Sessions (<code>Event</code>)

Schema.org [`Event`](https://schema.org/Event) type aligns with the 
definition of Event in this specification. A number of properties are provided 
that allow an [`Event`](https://schema.org/Event) to be described to a different 
levels of detail. 

An [`Event`](https://schema.org/Event) can also be related to a number of 
other types that help to capture the requirements for physical activities.

The following table illustrates how the essential aspects of describing an event 
map to existing Schema.org properties.

<table>
  <thead>
    <th>Aspect</th>
    <th>Schema.org Properties</th>
    <th>Notes</th>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>
        <ul>
          <li>[`name`](https://schema.org/name)</li>
          <li>[`url`](https://schema.org/url)</li>
          <li>[`description`](https://schema.org/description)</li>
          <li>[`image`](https://schema.org/image)</li>
        </ul>
      </td>
      <td>URL, description and representative images can be associated with any 
      Schema.org type</td>
    </tr>
    <tr>
      <td>Time</td>
      <td>
        <ul>
          <li>[`startDate`](https://schema.org/startDate)</li>
          <li>[`endDate`](https://schema.org/endDate)</li>
          <li>[`duration`](https://schema.org/duration)</li>
        </ul>
      </td>
      <td>Can be specified as [Dates](https://schema.org/Date) and 
      [DateTime](https://schema.org/DateTime) giving flexibility in precision.</td>
    </tr>
    <tr>
      <td>Location</td>
      <td>
        <ul>
          <li>[`location`](https://schema.org/location)</li>
        </ul>
      </td>
      <td>There is flexibility in precision here as the location can be a 
[Place](https://schema.org/Place) with a fully described geographic location 
and/or address. A [PostalAddress](https://schema.org/PostalAddress) for systems 
that only capture addresses, or just as [Text](https://schema.org/Text): "In the park, near the lake"</td>
    </tr>
    <tr>
      <td>Organiser</td>
      <td>
        <ul>
          <li>[`organizer`](https://schema.org/organizer)</li>
          <li>[`contributor`](https://schema.org/contributor)</li>
        </ul>
      <td>An organizer can be an [Organization](https://schema.org/Organization) or 
      a [Person]((https://schema.org/Person). These support additional descriptive 
      properties. Contributor, e.g. named staff or helpers can also be included</td>
    </tr>
    <tr>
      <td>Offers</td>
      <td>
        <ul>
          <li>[`offers`](https://schema.org/offers)</li>
        </ul>
      </td>
      <td>The [Offer](https://schema.org/Offer) type draws on a well used vocabulary for ecommerce so provides a variety of ways 
      to describe, e.g. pricing, availability, etc </td>
    </tr>
  </tbody>
</table>

### Recurring Events

TODO

**[Issue 2](https://github.com/openactive/modelling-opportunity-data/issues/2): Schema.org doesn't handle recurring events**

### Describing Participation Requirements & Restrictions

**[Issue 3](https://github.com/openactive/modelling-opportunity-data/issues/3): Define additional 
event properties.**

**[Issue 4](https://github.com/openactive/modelling-opportunity-data/issues/4): Decide how to publish controlled vocabularies**

These are all broadly categories that help to describe an Event:

* Restrictions: e.g. gender, age, membership restrictions
* Suitability: e.g. level of fitness, experience 
* Pre-requisites: e.g. membership, equipment needed
* Categorisation: e.g. intensity of session, activities involved, programme followed

## Location (<code>Place</code> and <code>EventVenue</code>)

Schema.org takes a flexible approach towards defining the [`location`](https://schema.org/location) 
for an [`Event`](https://schema.org/Event). This ranges from simply textual descriptions through 
to more structured representations.

For example a [`location`](https://schema.org/location) can be defined as a 
[PostalAddress](https://schema.org/PostalAddress) or a more fully defined [Place](https://schema.org/Place), 
e.g. a [CivicStructure](https://schema.org/CivicStructure) or [EventVenue](https://schema.org/EventVenue). 

<table>
  <thead>
    <th>Aspect</th>
    <th>Schema.org Properties</th>
    <th>Notes</th>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>
        <ul>
          <li>[`name`](https://schema.org/name)</li>
          <li>[`url`](https://schema.org/url)</li>
          <li>[`description`](https://schema.org/description)</li>
          <li>[`image`](https://schema.org/image)</li>
          <li>[`photo`](https://schema.org/photo)</li>
        </ul>
      </td>
      <td>URL, description and representative images can be associated with any 
      Schema.org type</td>
    </tr>
    <tr>
      <td>Physical Location</td>
      <td>
        <ul>
          <li>[`address`](https://schema.org/address)</li>
          <li>[`geo`](https://schema.org/geo)</li>
        </ul>
      </td>
      <td>Physical locations can be defined as text, an address or a precise 
      latitude and longitude. These can be combined depending on the detail 
      available to the publisher.</td>
    </tr>
    <tr>
      <td>Misc</td>
      <td>
        <ul>
          <li>[`telephone`](https://schema.org/address)</li>
          <li>[`openingHoursSpecification`](https://schema.org/openingHoursSpecification)</li>
        </ul>
      </td>
      <td>The [OpeningHoursSpecification](https://schema.org/OpeningHoursSpecification) provides 
      some support for describing when a location can be used</td>
    </tr>

  </tbody>
</table>

**[Issue 5](https://github.com/openactive/modelling-opportunity-data/issues/5): decide how to model venue facilities**

## Activity (<code>PhysicalActivity</code>)

Activities may be best described using a controlled vocabulary. 
[SKOS](https://www.w3.org/TR/skos-primer/) defines an existing standard data 
model that will allow:

* activities to be organised into hierarchies to capture broader-narrow relationships, 
e.g. "Martial Arts" and "Judo"
* activities to be related to one another
* the capturing of standard terms and codes used for indexing data, as well as alternate 
spellings to support discovery

Schema.org allows controlled vocabularies to be referenced as "[External Enumerations](https://www.w3.org/wiki/WebSchemas/ExternalEnumerations)". 
This will allow standard terms for categories to be related to lists of activities published by 
individual publishers or as standards across the sector.

**[Issue 6](https://github.com/openactive/modelling-opportunity-data/issues/6): How do we declare which controlled vocabularies we are using in a dataset?**

**[Issue 7](https://github.com/openactive/modelling-opportunity-data/issues/7): Can we use [PhysicalActivity](https://health-lifesci.schema.org/PhysicalActivity) and a  
[PhysicalActivityCategory](https://health-lifesci.schema.org/PhysicalActivityCategory) types?**

**[Issue 8](https://github.com/openactive/modelling-opportunity-data/issues/8): collect and publish [more example data about activity lists](https://github.com/openactive/w3c-cg-example-data/tree/master/activity-lists)**

## Programmes

Whereas Activities are best described using a controlled vocabulary, Programmes are 
likely to be more free-form.

**[Issue 9](https://github.com/openactive/modelling-opportunity-data/issues/9): what attributes do we need to capture about Programmes?**
  </section>

  <section class='informative'>
# Illustrative Examples

**[Issue 10](https://github.com/openactive/modelling-opportunity-data/issues/10) Add more examples**

## Locations

<pre class="example" title="A venue with facilities">
  {
  "@context": "http://schema.org/",
  "@type": "EventValue",

  "name": "5ives Community Sports Club",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Burnsall Grove",
    "addressLocality": "Barnsley",
    "postalCode": "S70 3JR"
  },
  "geo": {
    "latitude": "53.5372727",
    "longitude": "-1.4486005"
  },
  "amenityFeature": {
    "name": "Table Tennis Tables"
  }
}
</pre>


## Events


<pre class="example" title="Event with organiser">
{
  "@context": "http://schema.org/",
  "@type": "Event",
  "name": "Beach Body Workout",
  "url": "http://www.joinflex.tv/c/justin-brown/events/137",
  "description": "get ready to learn new ways to get summertime fine!!...",
  "image": "https://flex-production.s3.amazonaws.com/uploads/event/image/137/IMG_20140428_111516.jpg",
  "startDate": "2016-07-13T20:00:00-05:00",
  "duration": "PT30M",
  "organizer": {
    "@type": "Person",
    "name": "Justin Brown",
    "url": "http://www.joinflex.tv/c/justin-brown",
    "description": "Personal trainer with over 9 years of experience...",
    "image": "https://flex-production.s3.amazonaws.com/uploads/channel/profile_image/23/Beach_oblique_raise.jpg",
    "workLocation": {
      "@type": "Place",
      "address": "panama city beach florida"
    },
    "offers": {
      "price": 0
    }
  }
}
</pre>

<pre class="example" title="Event with venue and images">
{
  "@context": "http://schema.org/",
  "@type": "Event",
  "name": "Midsummer Night's Dream Run",
  "alternateName": "Midsummer Night's Dream Run: Run away with the fairies!",
  "description": "To run or not to run, that is the question...",
  "startDate": "2016-06-21T18:25:00.000Z",
  "image": [
      { "@type": "Image", "url": "https://gg-api.s3.amazonaws.com/uploads/photo/image/21667/uploads_2F1462893771268-1wn3a7whgfpopcad-e038cb67411c05d06ff188b0a029dce2_2F20150307_122900.jpg" },
      { "@type": "Image", "name": "home_wide", "url": "https://gg-api.s3.amazonaws.com/uploads/photo/image/21667/uploads_2F1462893771268-1wn3a7whgfpopcad-e038cb67411c05d06ff188b0a029dce2_2F20150307_122900.jpg" }
  ],
  "location": {
    "@type": "Place",
    "name": "Vivo Sports & Gym Club",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Welsh Back",
      "addressLocality": "Bristol",
      "postalCode": "BS1 4SB"
    }
  }
}
</pre>

  </section>

    </section>

    <section class='appendix informative'>
    Acknowledgements
    ================

    The editors thank [all members](http://www.w3.org/community/openactive/participants) of the Openactive CG for contributions of various kinds.
    </section>
  </body>
</html>
